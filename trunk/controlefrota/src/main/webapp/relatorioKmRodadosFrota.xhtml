<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<ui:decorate template="layoutElement.xhtml">
	<ui:define name="centro">
		<h:form id="form1">
			<p:panel id="panel" header="Relatório - Quilômetros rodados da frota">
		        <h:panelGrid id="pg1" columns="1" cellpadding="5">
		        
			        <p:fieldset legend="Informe um dos campos para efetuar a consulta" style="margin-bottom:20px">
						<h:panelGrid id="pg" columns="2" cellpadding="5" >
					        	<h:outputLabel value="Placa do veículo:" />
					        	<p:inputText/>
					        	
					        	<h:outputLabel value="Modelo do veículo:" />
					        	<p:inputText/>
					        	
					        	<h:outputLabel value="Marca do veículo:" />
					        	<p:inputText/>
					        	
					    </h:panelGrid>
					</p:fieldset>
					<p:commandLink id="pdf" ajax="false">
				        <p:graphicImage value="/img/pdf.png"/>
				        <pe:exporter type="pdf" target="dataTable" fileName="MessagesTable"/>
			     	</p:commandLink>
			        <p:commandButton value="Consultar" actionListener="#{veiculoMB.atualiza}" action="/gerenciarVeiculo.xhtml?faces-redirect=true" immediate="true" ajax="false" />
					<p:commandButton value="Voltar" actionListener="#{veiculoMB.reset}" action="/layoutElement.xhtml?faces-redirect=true" immediate="true" ajax="false" />
			        <p:dataTable id="dataTable" var="veiculo" value="#{veiculoMB.abstractList}" rowKey="#{veiculo.id}">,
			        	<f:facet name="header">
					        <h:outputText value="Nome:"/>
					        <h:outputText value="#{veiculoMB.userSession.nome}-"/>
					        <h:outputText value="#{veiculoMB.currentDate}">  
				               <f:convertDateTime pattern="dd/MM/yyyy"/>  
				            </h:outputText>
					    </f:facet>
						<p:column headerText="Codigo" style="width:50px">
							<h:outputText value="#{veiculo.id}" />
						</p:column>
						<p:column headerText="Modelo" style="width:50px">
							<h:outputText value="#{veiculo.modelo}" />
						</p:column>
						<p:column headerText="Marca" style="width:50px">
							<h:outputText value="#{veiculo.marcaDTO.nome}" />
						</p:column>
						<p:column headerText="KM rodados" style="width:50px">
							<h:outputText value="#{veiculo.kmAtual}" />
						</p:column>
						<p:column headerText="Placa" style="width:50px">
							<h:outputText value="#{veiculo.placa}" />
						</p:column>
					</p:dataTable>
		        
		        </h:panelGrid> 
		    </p:panel> 
		    
		    </h:form>
		    </ui:define>
</ui:decorate>
</html>