<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"  
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core_rt">

<ui:decorate template="layout.xhtml">  
	<ui:define id="centro" name="centro"> 
 		<h:form id="form">
 			<p:panel header="Técnica">
 			<p:commandButton id="selectButton4" value="Incluir Novo" icon="ui-icon-gear" title="teste" update=":growl" onclick="PF('dlgT').show();" actionListener="#{tecnicaMB.edit}"/>  
 			<p:commandButton value="Incluir Novo" action="/cadastroTecnica.xhtml?faces-redirect=true" immediate="true" update=":center" />

 			<p:commandButton value="Excluir" actionListener="#{tecnicaMB.del}"  update="form,:messages,:growl,panel" />

 			<p:separator id="separator"/>
 			
 			<p:dataTable id="panel" var="tecnica" value="#{tecnicaMB.tecnicaDataModel}" selection="#{tecnicaMB.listSelectedTecnicaDTO}" rowKey="#{tecnica.id}" editable="true" editMode="cell" paginator="true" rows="10">  
 			
 				<p:ajax event="rowSelectCheckbox" listener="#{tecnicaMB.check}"   />
				
				<p:column selectionMode="multiple" style="width:2%" />
 				  
		        <p:column headerText="Nome">
		            <h:outputText value="#{tecnica.nome}"/>
		        </p:column>
		        
		        <p:column headerText="">
			        <p:commandLink id="ajax" update="panel" actionListener="#{tecnicaMB.edit}" action="/cadastroTecnica.xhtml?faces-redirect=true" immediate="true" style="margin-right:20px;">  
				        <h:outputText value="Alterar" />
				    </p:commandLink>
		        </p:column>
		    </p:dataTable> 
 		
 			</p:panel>
 		</h:form>
 		<p:dialog header="Adicionar Grupo de Técnicas" widgetVar="dlgT" modal="true" appendToBody="true" resizable="false" draggable="true">
		    <h:form enctype="multipart/form-data">
  				<h:panelGrid columns="2">
				    
				    <h:outputLabel value="Nome" for="nome"/>
				  	<p:inputText id="nome" size="50" value="#{tecnicaMB.tecnicaDTO.nome}"/>
				  	
				  	<br/>
				    <p:fileUpload value="#{tecnicaMB.file}" mode="simple"/>
				  	<f:facet name="footer">
					    <p:commandButton value="Salvar" ajax="false" actionListener="#{tecnicaMB.add}" update="panel"/>
				  		<p:commandButton value="Cancelar" oncomplete="PF('dlgT').hide()" immediate="true" />
			  		</f:facet>
		  		</h:panelGrid>
			</h:form>
		</p:dialog>
 		
 		  
 	</ui:define>  
</ui:decorate>  
</html>