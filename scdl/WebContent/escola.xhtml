<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"  
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core_rt">

<ui:decorate template="layoutComplex.xhtml">  
	<ui:define id="centro" name="centro"> 
 		<h:form id="form">
			<!-- Aqui começa o FILTRO -->
			
		    <h3>Informe um dos campos abaixo:</h3>                    
		    <h:panelGrid columns="5"  cellpadding="1" style="width:1000px">  
		   
		        <h:outputLabel for="codigo" value="Código:" style="font-weight:bold"/>  
		        <p:inputText id="codigo" value="#{escolaMB.escolaDTO.id}" />
		        
		        <h:outputLabel for="name" value="Name:" style="font-weight:bold"/>    
		        <p:inputText id="name" value="#{escolaMB.escolaDTO.nome}" /> 
		          
		        <p:commandButton value="Filtrar" />  
		    </h:panelGrid>  
			
			      
			
			<!-- Aqui começa o INCLUIR -->
				
			
				
			<!-- Aqui começa o ENTRAR CONSULTANDO -->
				
			  
		   	<p:growl id="msgs" showDetail="true" />  
		   	<br/><br/><br/><br/><br/><br/><br/><br/>
		  	<p:commandButton value="Nova"  action="/incluirEscola.xhtml?faces-redirect=true" immediate="true" update=":center"/> <br/><br/>
		  	
			  	 
		    <p:dataTable id="escolaTable" var="escola" value="#{escolaMB.listEscola}" rowKey="#{user.id}" style="width:1000px" emptyMessage="Nemhum item encontrado">  
		  
		        <p:column headerText="Código" style="width:50px">  
		            <p:outputLabel value="#{escola.id}" />  
		        </p:column>
		  
		        <p:column headerText="Nome" style="width:400px">  
		            <h:outputText value="#{escola.nome}" />  
		        </p:column>  
		  
		        <p:column headerText="Endereço" style="width:400px">  
		            <h:outputText value="#{escola.endereco}" />  
		        </p:column>  
		  
		        <p:column headerText="Ações" style="width:210px">  
		        <!-- consultar -->
		                <p:commandButton id="selectButton1" actionListener="#{layoutBean.requestPage}" 
		                 action="/consultarEscola.xhtml?faces-redirect=true"
		                 immediate="true" update=":center" icon="ui-icon-search" title="View" >   
		                </p:commandButton> 
		        <!-- Alterar -->        
		                <p:commandButton id="selectButton2"  oncomplete="PF('carDialog').show()" icon="ui-icon-pencil" title="alterar">  
		                <f:setPropertyActionListener value="#{escola}" target="#{tableBean.selectedEscola}" /> 
		                </p:commandButton> 
		        <!-- Imprimir -->        
		                <p:commandButton id="selectButton3"   oncomplete="PF('carDialog').show()" icon="ui-icon-print" title="View">  
		                <f:setPropertyActionListener value="#{escola}" target="#{tableBean.selectedEscola}" /> 
		                </p:commandButton> 
		        <!-- Deletar -->       
		                <p:commandButton id="selectButton4" icon="ui-icon-trash" title="Apagar" update=":growl" onclick="PF('dlg').show();" actionListener="#{escolaMB.edit}">  
		            	<f:setPropertyActionListener value="#{escola}" target="#{escolaMB.escolaDTO}" /> 
		                </p:commandButton> 
		                
		        </p:column>  
		  
		    </p:dataTable>  
		    </h:form>
            <p:dialog header="Apagar?" widgetVar="dlg" modal="true" appendToBody="true" resizable="false" draggable="true">
                <h:outputText value="Deseja realmente excluir essa escola?" />
                <f:facet name="footer">
	            	<p:commandButton value="Excluir" update=":growl,form:escolaTable"  icon="ui-icon-close" actionListener="#{escolaMB.del}" immediate="true" oncomplete="dlg.hide()" />                 
	            	<p:commandButton value="Cancelar" oncomplete="dlg.hide()" immediate="true" />                 
	            </f:facet>
            </p:dialog>
		    
		    <p:confirmDialog id="confirmaExclusao1" appendToBody="true"  
            message="Deseja realmente excluir o partido selecionado?"  
            header="Excluir partido" severity="alert"  
            widgetVar="confirmaExclusao">  
  
            <p:commandButton id="confirm" value="Sim, desejo"  
                actionListener="#{escolaMB.del}"  
                oncomplete="confirmaExclusao.hide();"
                update=":growl,form:escolaTable" />  
  
            <p:commandButton id="decline" value="Não, me enganei"  
                onclick="confirmaExclusao.hide()" type="button" />  
        </p:confirmDialog>
	</ui:define>  
</ui:decorate>  
</html>
